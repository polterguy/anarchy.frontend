
<h1>Register</h1>

<mat-card
  *ngIf="!done"
  class="register">

  <a
    class="home-link"
    mat-button
    routerLink="/">
    <mat-icon>home</mat-icon>
  </a>

  <div class="progress">
    <mat-progress-bar
      mode="determinate"
      [value]="progress"></mat-progress-bar>
  </div>

  <div class="form-row">

    <mat-form-field
      class="email item">
      <mat-label>{{emailGood === false ? 'Email must be valid and available' : 'Email'}}</mat-label>
      <input
        matInput
        placeholder="Email ..."
        type="text"
        autocomplete="off"
        [formControl]="email">
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="emailGood === true"
      class="username item">
      <mat-label>{{usernameGood === false ? 'Username cannot be your email address' : 'Username'}}</mat-label>
      <input
        matInput
        placeholder="Username ..."
        type="text"
        autocomplete="off"
        [formControl]="username">
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="usernameGood === true"
      class="name item">
      <mat-label>{{nameGood === false ? 'Name must be your full legal name, as written in public records' : 'Full legal name'}}</mat-label>
      <input
        matInput
        placeholder="Full name ..."
        type="text"
        autocomplete="off"
        [formControl]="name">
      <mat-icon
        matTooltip="Why ...?"
        (click)="showNameInformation()">help</mat-icon>
    </mat-form-field>

  </div>

  <div
    *ngIf="showNameInfo"
    class="form-row">

    <div class="info">
      <p>
        In order to make sure you are a real person, and preventing people from registering
        fake profiles, and such influence votes - We ask you kindly to give us your full name,
        as it can be found in the yellow pages. Notice, if you cannot prove you are a legal
        person and citizen of country of registration, <strong>we might suspend your account</strong>.
      </p>
      <p>
        We will never disclose your personal information to any 3rd parties.
      </p>
    </div>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="nameGood === true"
      class="phone item">
      <mat-label>{{phoneGood === false ? 'Phone number must be a registered cell phone in your name, and contain only numbers (no spaces)' : 'Cell phone'}}</mat-label>
      <input
        matInput
        placeholder="Cell phone ..."
        type="text"
        autocomplete="off"
        [formControl]="phone">
      <mat-icon
        matTooltip="Why ...?"
        (click)="showPhoneInformation()">help</mat-icon>
    </mat-form-field>

  </div>

  <div
    *ngIf="showPhoneInfo"
    class="form-row">

    <div class="info">
      <p>
        In order to make sure you are a real person, and preventing people from registering
        fake profiles, and such influence votes - We ask you kindly to give us your phone number,
        as it can be found in the yellow pages. Notice, if you cannot prove you are a legal
        person and citizen of country of registration, <strong>we might suspend your account</strong>.
      </p>
      <p>
        We will never disclose your personal information to any 3rd parties.
      </p>
    </div>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="nameGood === true && phoneGood === true && usernameGood === true && nameGood === true"
      class="password item">
      <mat-label>{{passwordGood === false ? 'Password must be at least 10 characters long' : 'Password'}}</mat-label>
      <input
        matInput
        placeholder="Password ..."
        [type]="passwordReadable ? 'text' : 'password'"
        autocomplete="new-password"
        [formControl]="password">
      <mat-icon
        (click)="togglePasswordReadability()">remove_red_eye</mat-icon>
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="nameGood === true && phoneGood === true && usernameGood === true && nameGood === true"
      class="password-repeat item">
      <mat-label>{{passwordRepeatGood === false ? 'Please repeat your password' : 'Repeat password'}}</mat-label>
      <input
        matInput
        placeholder="Password repeat ..."
        [type]="passwordRepeatReadable ? 'text' : 'password'"
        autocomplete="new-password"
        [formControl]="passwordRepeat">
    </mat-form-field>

  </div>

  <div class="form-row">

    <div
      *ngIf="passwordRepeatGood === true && passwordGood === true && phoneGood === true && emailGood === true && usernameGood === true"
      class="information item">

      <label class="bottom-slogan">Terms and Conditions</label>

      <p>
        By clicking the Submit button below, you guarantee us that the above information is
        correct, that you have given us your full legal name, and a cell phone number registered
        to you in the country where you are registering.
      </p>

      <p>
        You also explicitly give us permission to <strong>send you email receipts, of every single vote you
        cast in the system</strong>.
      </p>

      <p>
        Votes you cast are kept private, and will not be shared with anyone, and the same is true
        about your private information. The only exception is in case of that the United Nations
        appoints an independent 3rd party to audit votes in your region for a particular case - At
        which point we will under supervision allow auditing of your vote, on individual cases,
        by an independent 3rd party organisation, appointed by the United Nations (only!)
        At which point the independent 3rd party organisation might contact you to verify your
        vote for security reasons.
      </p>

    </div>

  </div>

  <div class="form-row center">

    <mat-checkbox
      *ngIf="passwordRepeatGood === true && passwordGood === true && phoneGood === true && emailGood === true && usernameGood === true"
      [(ngModel)]="agree">I agree to the above terms and conditions</mat-checkbox>

  </div>

  <div
    class="submit"
    *ngIf="passwordRepeatGood === true && passwordGood === true && phoneGood === true && emailGood === true && usernameGood === true">

    <button
      matTooltip="Submit form and accept the terms and conditions of the site"
      mat-button
      [disabled]="!agree"
      (click)="register()">
      Submit
    </button>

  </div>

</mat-card>

<mat-card
  *ngIf="done"
  class="register">

  <a
    class="home-link"
    routerLink="/">
    home
  </a>

  <p>
    Now confirm your email address.
  </p>
</mat-card>
