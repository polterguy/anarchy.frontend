
<h1>Register</h1>

<mat-card
  *ngIf="!isLoggedIn()"
  class="register">

  <a
    class="home-link"
    routerLink="/">
    home
  </a>

  <div class="form-row">

    <mat-form-field
      class="username item">
      <mat-label>{{usernameGood === false ? 'Username cannot be your email address, and must be available, and at least 4 characters long' : 'Username'}}</mat-label>
      <input
        matInput
        placeholder="Username ..."
        type="text"
        autocomplete="off"
        [formControl]="username">
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="usernameGood === true"
      class="email item">
      <mat-label>{{emailGood === false ? 'Email must be valid and available' : 'Email'}}</mat-label>
      <input
        matInput
        placeholder="Email ..."
        type="text"
        autocomplete="off"
        [formControl]="email">
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="emailGood === true && usernameGood === true"
      class="password item">
      <mat-label>{{passwordGood === false ? 'Password must be at least 10 characters long' : 'Password'}}</mat-label>
      <input
        matInput
        placeholder="Password ..."
        type="password"
        autocomplete="new-password"
        [formControl]="password">
    </mat-form-field>

  </div>

  <div class="form-row">

    <mat-form-field
      *ngIf="passwordGood === true && emailGood === true && usernameGood === true"
      class="password-repeat item">
      <mat-label>{{passwordRepeatGood === false ? 'Please repeat your password' : 'Repeat password'}}</mat-label>
      <input
        matInput
        placeholder="Password repeat ..."
        type="password"
        autocomplete="new-password"
        [formControl]="passwordRepeat">
    </mat-form-field>

  </div>

  <div class="form-row">

    <div
      *ngIf="passwordRepeatGood === true && passwordGood === true && emailGood === true && usernameGood === true"
      class="information item">
      By clicking OK above, you accept the terms and conditions of the site,
      which includes that we will send you a couple of emails per week,
      with cases of interest to you, according to your preferred region(s).
      We might also send you some marketing emails occassionally on behalf
      of our sponsors. You can unsubscribe to our newsletter any time you wish.
  </div>

  </div>

  <div
    class="submit"
    *ngIf="passwordRepeatGood === true && passwordGood === true && emailGood === true && usernameGood === true">

    <button
      matTooltip="Submit form and accept terms and conditions"
      mat-button
      (click)="register()">
      Submit
    </button>

  </div>

</mat-card>

<mat-card
  *ngIf="isLoggedIn()"
  class="register">

  <a
    class="home-link"
    routerLink="/">
    home
  </a>

  <h3>
    You are already registered at the site
  </h3>

</mat-card>
