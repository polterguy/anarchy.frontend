
<h1
  matTooltip="Where YOU are the Government!">
  AnarQ
</h1>

<mat-card class="info-card">

  <mat-form-field
    class="sorting">
    <mat-select
      [(ngModel)]="sorting"
      (selectionChange)="sortingChanged($event)">
      <mat-option
        value="popular">
        Popular
      </mat-option>
      <mat-option
        value="newest">
        Newest
      </mat-option>
      <mat-option
        value="closed">
        Closed
      </mat-option>
      <mat-option
        value="my-cases"
        *ngIf="userIsLoggedIn()">
        My cases
      </mat-option>
      <mat-option
        value="my-voted-cases"
        *ngIf="userIsLoggedIn()">
        Cases I have voted for
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div
    *ngIf="!cases || cases.length === 0"
    class="information">
    <span>
      Nothing to see here!
    </span>
  </div>

  <ul class="front-page-cases">
    <li
      *ngFor="let idx of cases">
      <a
        class="case-link"
        [routerLink]="'/case/' + idx.id">
        {{idx.subject}}
      </a>
      <small>
        {{capitalize(idx.region)}} ({{idx.positive + '/' + (idx.votes - idx.positive)}})
      </small>
    </li>
  </ul>

  <button
    *ngIf="more"
    mat-button
    class="feed-more"
    matTooltip="Get 25 next items"
    (click)="getNextBatch()">
    More
  </button>

  <div
    *ngIf="regions.length > 0"
    class="regions">
    <ul>
      <li
        *ngFor="let idx of regions">
        <a
          class="region-link"
          [routerLink]="'/region/' + idx">
          {{capitalize(idx)}}
        </a>
      </li>
    </ul>
  </div>

  <div
    *ngIf="statistics"
    class="statistics">
    <ul>
      <li
        [matTooltip]="'There are ' + statistics.users + ' users in the system'">
        <a routerLink="/users">
          Users {{statistics.users}}
        </a>
      </li>
      <li
        [matTooltip]="'There are ' + statistics.cases + ' cases in the system'">
        Cases {{statistics.cases}}
      </li>
      <li
        [matTooltip]="'There are ' + statistics.cases + ' open cases in the system'">
        Open {{statistics.open}}
      </li>
      <li
        [matTooltip]="'There are ' + statistics.votes + ' votes cast in the system'">
        Votes {{statistics.votes}}
      </li>
    </ul>
  </div>

</mat-card>
