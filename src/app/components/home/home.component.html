
<h1>
  AnarQ
</h1>

<mat-card class="info-card">

  <mat-form-field
    class="sorting">
    <mat-select
      [(ngModel)]="sorting"
      (selectionChange)="sortingChanged()">
      <mat-option
        value="popular">
        {{translate('Popular')}}
      </mat-option>
      <mat-option
        value="newest">
        {{translate('Newest')}}
      </mat-option>
      <mat-option
        value="closed">
        {{translate('Closed')}}
      </mat-option>
      <mat-option
        value="my-cases"
        *ngIf="userIsLoggedIn()">
        {{translate('MyCases')}}
      </mat-option>
      <mat-option
        value="my-voted-cases"
        *ngIf="userIsLoggedIn()">
        {{translate('CasesIHaveVotedFor')}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div
    *ngIf="!cases || cases.length === 0"
    class="information">
    <span>
      {{translate('NothingToSeeHere')}}
    </span>
  </div>

  <ul class="front-page-cases">
    <li
      *ngFor="let idx of cases">
      <a
        class="case-link"
        [routerLink]="'/case/' + idx.id">
        {{idx.subject}}
      </a>
      <small>
        {{capitalize(idx.region)}} ({{idx.positive + '/' + (idx.votes - idx.positive)}})
      </small>
    </li>
  </ul>

  <button
    *ngIf="more"
    mat-button
    class="feed-more"
    [matTooltip]="translate('Get25NextItems')"
    (click)="getNextBatch()">
    {{translate('More')}}
  </button>

  <div
    *ngIf="regions.length > 0"
    class="regions">
    <ul>
      <li
        *ngFor="let idx of regions">
        <a
          class="region-link"
          [routerLink]="'/region/' + idx">
          {{capitalize(idx)}}
        </a>
      </li>
    </ul>
  </div>

  <div
    *ngIf="statistics"
    class="statistics">
    <ul>
      <li
        [matTooltip]="translate('ThereAreXUsersInSystem', [statistics.users])">
        <a routerLink="/users">
          {{translate('Users')}} {{statistics.users}}
        </a>
      </li>
      <li
        [matTooltip]="translate('ThereAreXCasesInSystem', [statistics.cases])">
        {{translate('Cases')}} {{statistics.cases}}
      </li>
      <li
        [matTooltip]="translate('ThereAreXOpenCasesInSystem', [statistics.open])">
        {{translate('Open')}} {{statistics.open}}
      </li>
      <li
        [matTooltip]="translate('ThereAreXVotesInSystem', [statistics.votes])">
        {{translate('Votes')}} {{statistics.votes}}
      </li>
    </ul>
  </div>

</mat-card>
