
<div class="component-wrapper">

  <div
    *ngIf="item"
    class="mat-elevation-z4 case">
    <a
      class="home-link"
      routerLink="/">
      home
    </a>
    <h1>
      {{item.subject}}
    </h1>
    <div
      class="content"
      [innerHtml]="item.body | marked"></div>
    <qrcode
      class="qr-code"
      [qrdata]="getCaseUrl()"
      [width]="128"
      [errorCorrectionLevel]="'M'"></qrcode>
    <div
      class="qr-code-description">
      Vote for case above
    </div>
    <div
      class="meta-data">
      <div class="item">
        <a
          class="region-link"
          [routerLink]="'/region/' + item.region">
          {{item.region}}
        </a>
      </div>
      <div class="item">
        <a
          class="user-link"
          [routerLink]="'/user/' + item.user">
          {{item.user}}
        </a>
      </div>
      <div class="item">
        {{item.deadline | date_format_short}}
      </div>
      <div class="item count">
        {{item.positive}} / {{item.negative}}
      </div>
    </div>
    <div
      class="action-bar"
      *ngIf="item.opinion === undefined && isLoggedIn()">
      <button
        (click)="yes()"
        mat-button>
        yes
      </button>
      <button
        (click)="no()"
        mat-button>
        no
      </button>
    </div>
    <div
      class="action-bar"
      *ngIf="item.opinion !== undefined && isLoggedIn()">
      You voted {{getOpinion()}} for this
    </div>
  </div>

</div>
